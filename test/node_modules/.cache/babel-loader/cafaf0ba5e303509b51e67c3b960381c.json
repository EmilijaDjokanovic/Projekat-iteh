{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\milos\\\\Desktop\\\\Faks\\\\test\\\\test\\\\src\\\\Components\\\\Pages\\\\EditCompany.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport isEqual from \"lodash.isequal\";\nimport \"../../styles/Page.css\";\nimport \"../../styles/EditContact.css\";\nimport { Form, Button } from \"react-bootstrap\";\nimport { useParams, useHistory } from \"react-router\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst EditCompany = ({\n  api,\n  cities,\n  setRefreshCompanies,\n  setRefresh\n}) => {\n  _s();\n\n  const history = useHistory();\n  const {\n    id\n  } = useParams();\n  const [company, setCompany] = useState();\n  const [companyName, setCompanyName] = useState();\n  const [address, setAddress] = useState();\n  const [address2, setAddress2] = useState();\n  const [website_url, setWebsiteUrl] = useState();\n  const [city_id, setCity] = useState();\n  useEffect(() => {\n    const apiToken = window.localStorage.getItem(\"api_token\");\n    api.get(`/companies/${id}`, {\n      headers: {\n        token: apiToken\n      }\n    }).then(res => {\n      console.log(res.data);\n\n      if (!isEqual(res.data, company)) {\n        fillForm(res.data);\n        setCompany(res.data);\n      }\n    }).catch(error => {\n      console.log(error);\n\n      if (error.response.status === 404) {\n        return alert(\"Company with this ID doesn't exist\");\n      }\n\n      console.log(error.response.data.message);\n    });\n  }, [api, company, id]);\n\n  const fillForm = data => {\n    setCompanyName(data.company);\n    setAddress(data.address);\n    setAddress2(data.address2);\n    setCity(data.city_id);\n    setWebsiteUrl(data.website_url);\n  };\n\n  const onSubmit = e => {\n    e.preventDefault();\n    const apiToken = window.localStorage.getItem(\"api_token\");\n    api.put(`/companies/${id}`, {\n      company: companyName,\n      address,\n      address2,\n      city_id,\n      website_url\n    }, {\n      headers: {\n        token: apiToken\n      }\n    }).then(res => {\n      console.log(res.data);\n      setRefreshCompanies(true);\n      setRefresh(true);\n      alert(\"Company successfully updated\");\n      history.push(\"/Companies\");\n    }).catch(error => {\n      alert(error.response.data.message);\n    });\n  };\n\n  const onDelete = e => {\n    e.preventDefault();\n    const apiToken = window.localStorage.getItem(\"api_token\");\n\n    if (window.confirm(\"Are you sure you want to delete the company?\")) {\n      api.delete(`companies/${id}`, {\n        headers: {\n          token: apiToken\n        }\n      }).then(res => {\n        setRefreshCompanies(true);\n        setRefresh(true);\n        alert(\"Lead deleted\");\n        history.push(\"/Dashboard\");\n      }).catch(error => {\n        alert(error.response.data.message);\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n      children: \"Company details: \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"input-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Company:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n        id: \"company-field\",\n        type: \"text\",\n        name: \"companyName\",\n        value: companyName,\n        onChange: e => {\n          setCompanyName(e.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"input-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Address:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n        type: \"text\",\n        name: \"address\",\n        value: address,\n        onChange: e => {\n          setAddress(e.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"input-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Address 2:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n        type: \"text\",\n        name: \"address2\",\n        value: address2,\n        onChange: e => {\n          setAddress2(e.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"input-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"City:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n        as: \"select\",\n        name: \"city\",\n        value: city_id,\n        onChange: e => {\n          setCity(e.target.value);\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"Select city\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 11\n        }, this), cities.map(city => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: city.id,\n          children: city.city\n        }, city.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"input-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Website url:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n        type: \"text\",\n        name: \"website-url\",\n        value: website_url,\n        onChange: e => {\n          setWebsiteUrl(e.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      type: \"submit\",\n      onClick: onSubmit,\n      className: \"accept-button\",\n      children: \"Accept\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      type: \"submit\",\n      onClick: onDelete,\n      className: \"delete-button\",\n      children: \"Delete\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 95,\n    columnNumber: 5\n  }, this);\n};\n\n_s(EditCompany, \"vIUp8+gQ92Xl/LQ8K/y2+1Lt0ZA=\", false, function () {\n  return [useHistory, useParams];\n});\n\n_c = EditCompany;\nexport default EditCompany;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditCompany\");","map":{"version":3,"sources":["C:/Users/milos/Desktop/Faks/test/test/src/Components/Pages/EditCompany.js"],"names":["React","useEffect","useState","isEqual","Form","Button","useParams","useHistory","EditCompany","api","cities","setRefreshCompanies","setRefresh","history","id","company","setCompany","companyName","setCompanyName","address","setAddress","address2","setAddress2","website_url","setWebsiteUrl","city_id","setCity","apiToken","window","localStorage","getItem","get","headers","token","then","res","console","log","data","fillForm","catch","error","response","status","alert","message","onSubmit","e","preventDefault","put","push","onDelete","confirm","delete","target","value","map","city"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport isEqual from \"lodash.isequal\";\r\nimport \"../../styles/Page.css\";\r\nimport \"../../styles/EditContact.css\";\r\n\r\nimport { Form, Button } from \"react-bootstrap\";\r\nimport { useParams, useHistory } from \"react-router\";\r\n\r\nconst EditCompany = ({ api, cities, setRefreshCompanies, setRefresh }) => {\r\n  const history = useHistory();\r\n  const { id } = useParams();\r\n\r\n  const [company, setCompany] = useState();\r\n  const [companyName, setCompanyName] = useState();\r\n  const [address, setAddress] = useState();\r\n  const [address2, setAddress2] = useState();\r\n  const [website_url, setWebsiteUrl] = useState();\r\n  const [city_id, setCity] = useState();\r\n\r\n  useEffect(() => {\r\n    const apiToken = window.localStorage.getItem(\"api_token\");\r\n    api\r\n      .get(`/companies/${id}`, { headers: { token: apiToken } })\r\n      .then((res) => {\r\n        console.log(res.data);\r\n        if (!isEqual(res.data, company)) {\r\n          fillForm(res.data);\r\n          setCompany(res.data);\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        if (error.response.status === 404) {\r\n          return alert(\"Company with this ID doesn't exist\");\r\n        }\r\n        console.log(error.response.data.message);\r\n      });\r\n  }, [api, company, id]);\r\n\r\n  const fillForm = (data) => {\r\n    setCompanyName(data.company);\r\n    setAddress(data.address);\r\n    setAddress2(data.address2);\r\n    setCity(data.city_id);\r\n    setWebsiteUrl(data.website_url);\r\n  };\r\n\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n    const apiToken = window.localStorage.getItem(\"api_token\");\r\n    api\r\n      .put(\r\n        `/companies/${id}`,\r\n        {\r\n          company: companyName,\r\n          address,\r\n          address2,\r\n          city_id,\r\n          website_url,\r\n        },\r\n        { headers: { token: apiToken } }\r\n      )\r\n      .then((res) => {\r\n        console.log(res.data);\r\n        setRefreshCompanies(true);\r\n        setRefresh(true);\r\n        alert(\"Company successfully updated\");\r\n        history.push(\"/Companies\");\r\n      })\r\n      .catch((error) => {\r\n        alert(error.response.data.message);\r\n      });\r\n  };\r\n\r\n  const onDelete = (e) => {\r\n    e.preventDefault();\r\n    const apiToken = window.localStorage.getItem(\"api_token\");\r\n\r\n    if (window.confirm(\"Are you sure you want to delete the company?\")) {\r\n      api\r\n        .delete(`companies/${id}`, { headers: { token: apiToken } })\r\n        .then((res) => {\r\n          setRefreshCompanies(true);\r\n          setRefresh(true);\r\n          alert(\"Lead deleted\");\r\n          history.push(\"/Dashboard\");\r\n        })\r\n        .catch((error) => {\r\n          alert(error.response.data.message);\r\n        });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <h5>Company details: </h5>\r\n      <hr />\r\n      <div className=\"input-container\">\r\n        <p>Company:</p>\r\n        <Form.Control\r\n          id=\"company-field\"\r\n          type=\"text\"\r\n          name=\"companyName\"\r\n          value={companyName}\r\n          onChange={(e) => {\r\n            setCompanyName(e.target.value);\r\n          }}\r\n        />\r\n      </div>\r\n      <div className=\"input-container\">\r\n        <p>Address:</p>\r\n        <Form.Control\r\n          type=\"text\"\r\n          name=\"address\"\r\n          value={address}\r\n          onChange={(e) => {\r\n            setAddress(e.target.value);\r\n          }}\r\n        />\r\n      </div>\r\n      <div className=\"input-container\">\r\n        <p>Address 2:</p>\r\n        <Form.Control\r\n          type=\"text\"\r\n          name=\"address2\"\r\n          value={address2}\r\n          onChange={(e) => {\r\n            setAddress2(e.target.value);\r\n          }}\r\n        />\r\n      </div>\r\n      <div className=\"input-container\">\r\n        <p>City:</p>\r\n        <Form.Control\r\n          as=\"select\"\r\n          name=\"city\"\r\n          value={city_id}\r\n          onChange={(e) => {\r\n            setCity(e.target.value);\r\n          }}\r\n        >\r\n          <option value=\"\">Select city</option>\r\n          {cities.map((city) => (\r\n            <option key={city.id} value={city.id}>\r\n              {city.city}\r\n            </option>\r\n          ))}\r\n        </Form.Control>\r\n      </div>\r\n      <div className=\"input-container\">\r\n        <p>Website url:</p>\r\n        <Form.Control\r\n          type=\"text\"\r\n          name=\"website-url\"\r\n          value={website_url}\r\n          onChange={(e) => {\r\n            setWebsiteUrl(e.target.value);\r\n          }}\r\n        />\r\n      </div>\r\n      <Button type=\"submit\" onClick={onSubmit} className=\"accept-button\">\r\n        Accept\r\n      </Button>\r\n      <Button type=\"submit\" onClick={onDelete} className=\"delete-button\">\r\n        Delete\r\n      </Button>\r\n      <hr />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EditCompany;\r\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\milos\\\\Desktop\\\\Faks\\\\test\\\\test\\\\src\\\\Components\\\\PrivateRoute.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { Redirect, Route, useHistory } from 'react-router-dom';\nimport EditContact from \"./Pages/EditContact\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst PrivateRoute = ({\n  children,\n  ...rest\n}) => {\n  _s();\n\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const history = useHistory();\n  useEffect(() => {\n    const apiToken = window.localStorage.getItem('api_token');\n\n    if (apiToken) {\n      setIsLoggedIn(true);\n    } else {\n      history.push('/Login');\n    }\n  }, [history, isLoggedIn]);\n  console.log(rest);\n  return /*#__PURE__*/_jsxDEV(Route, { ...rest,\n    render: props => {\n      return isLoggedIn ?\n      /*#__PURE__*/\n      // children\n      _jsxDEV(EditContact, { ...props\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(Redirect, {\n        to: \"/Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 21\n      }, this);\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 9\n  }, this);\n};\n\n_s(PrivateRoute, \"MTm/+D1PjV9Rxs66bNdWEj90WEA=\", false, function () {\n  return [useHistory];\n});\n\n_c = PrivateRoute;\nexport default PrivateRoute;\n\nvar _c;\n\n$RefreshReg$(_c, \"PrivateRoute\");","map":{"version":3,"sources":["C:/Users/milos/Desktop/Faks/test/test/src/Components/PrivateRoute.js"],"names":["React","useEffect","useState","Redirect","Route","useHistory","EditContact","PrivateRoute","children","rest","isLoggedIn","setIsLoggedIn","history","apiToken","window","localStorage","getItem","push","console","log","props"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,QAA1B,QAAyC,OAAzC;AACA,SAAQC,QAAR,EAAkBC,KAAlB,EAAyBC,UAAzB,QAA0C,kBAA1C;AACA,OAAOC,WAAP,MAAwB,qBAAxB;;;AAIA,MAAMC,YAAY,GAAG,CAAC;AAACC,EAAAA,QAAD;AAAW,KAAGC;AAAd,CAAD,KAAyB;AAAA;;AAE1C,QAAM,CAACC,UAAD,EAAaC,aAAb,IAA8BT,QAAQ,CAAC,KAAD,CAA5C;AACA,QAAMU,OAAO,GAAGP,UAAU,EAA1B;AAEAJ,EAAAA,SAAS,CAAC,MAAM;AACZ,UAAMY,QAAQ,GAAGC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,WAA5B,CAAjB;;AACA,QAAGH,QAAH,EAAa;AACTF,MAAAA,aAAa,CAAC,IAAD,CAAb;AACH,KAFD,MAEO;AACHC,MAAAA,OAAO,CAACK,IAAR,CAAa,QAAb;AACH;AAEJ,GARQ,EAQP,CAACL,OAAD,EAAUF,UAAV,CARO,CAAT;AASAQ,EAAAA,OAAO,CAACC,GAAR,CAAYV,IAAZ;AAEA,sBACI,QAAC,KAAD,OACQA,IADR;AAEI,IAAA,MAAM,EAAGW,KAAD,IAAW;AACf,aAAOV,UAAU;AAAA;AACb;AACA,cAAC,WAAD,OAAiBU;AAAjB;AAAA;AAAA;AAAA;AAAA,cAFa,gBAIb,QAAC,QAAD;AACI,QAAA,EAAE,EAAC;AADP;AAAA;AAAA;AAAA;AAAA,cAJJ;AAQH;AAXL;AAAA;AAAA;AAAA;AAAA,UADJ;AAeH,CA/BD;;GAAMb,Y;UAGcF,U;;;KAHdE,Y;AAiCN,eAAeA,YAAf","sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport {Redirect, Route, useHistory} from 'react-router-dom';\r\nimport EditContact from \"./Pages/EditContact\";\r\n\r\n\r\n\r\nconst PrivateRoute = ({children, ...rest}) => {\r\n\r\n    const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n    const history = useHistory();\r\n\r\n    useEffect(() => {\r\n        const apiToken = window.localStorage.getItem('api_token')\r\n        if(apiToken) {\r\n            setIsLoggedIn(true)\r\n        } else {\r\n            history.push('/Login')\r\n        }\r\n\r\n    },[history, isLoggedIn])\r\n    console.log(rest)\r\n\r\n    return (\r\n        <Route\r\n            {...rest}\r\n            render={(props) => { \r\n                return isLoggedIn ? (\r\n                    // children\r\n                    <EditContact {...props} />\r\n                ) : (\r\n                    <Redirect\r\n                        to='/Login'\r\n                    />\r\n                )\r\n            }}\r\n        />\r\n    );\r\n};\r\n\r\nexport default PrivateRoute;"]},"metadata":{},"sourceType":"module"}
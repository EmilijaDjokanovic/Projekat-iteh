{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\milos\\\\Desktop\\\\Faks\\\\test\\\\test\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useMemo, Component } from \"react\";\nimport axios from \"axios\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport Header from \"./Components/Header\";\nimport { BrowserRouter as Router, Redirect, Route, Switch } from \"react-router-dom\";\nimport Navbar from \"./Components/Navbar\";\nimport Login from \"./Components/Pages/Login\";\nimport Dashboard from \"./Components/Pages/Dashboard\";\nimport NewLead from \"./Components/Pages/NewLead\";\nimport SearchLeads from \"./Components/Pages/SearchLeads\";\nimport Home from \"./Components/Pages/Home\";\nimport Contact from \"./Components/Pages/Contact\";\nimport PrivateRoute from \"./Components/PrivateRoute\";\nimport RegisterUser from \"./Components/Pages/RegisterUser\";\nimport ManageUsers from \"./Components/Pages/ManageUsers\";\nimport isEqual from \"lodash.isequal\";\nimport EditContact from \"./Components/Pages/EditContact\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst api = axios.create({\n  baseURL: \"http://127.0.0.1:8000/api\"\n});\n\nconst App = () => {\n  _s();\n\n  const [stages, setStages] = useState([]);\n  const [contacts, setContacts] = useState([]);\n  const [staff, setStaff] = useState([]);\n  const [role, setRole] = useState(\"\");\n  const [userType, setUserType] = useState(\"\");\n  const [refresh, setRefresh] = useState(false); // const [isLoggedIn, setIsLoggedIn] = useState(false);\n\n  useEffect(() => {\n    const storedRole = window.localStorage.getItem(\"role\");\n    if (role !== storedRole && storedRole) setRole(storedRole);\n\n    if (role === \"manager\") {\n      setUserType(\"Manager view\");\n    } else if (role === \"sales\") {\n      setUserType(\"Employee view\");\n    } else {\n      setUserType(\"\");\n    }\n\n    if (role !== \"\") {\n      setRefresh(false);\n      const apiToken = window.localStorage.getItem(\"api_token\");\n      const staffId = window.localStorage.getItem(\"staff_id\");\n      api.get(`/contacts/detailed`, {\n        headers: {\n          token: apiToken\n        }\n      }).then(res => {\n        if (!isEqual(res.data, contacts)) {\n          setContacts(res.data);\n        }\n      }).catch(error => {\n        console.log(error.response.data.message);\n      });\n\n      if (role === \"manager\") {\n        api.get(`/staff`, {\n          headers: {\n            token: apiToken\n          }\n        }).then(res => {\n          if (!isEqual(res.data, staff)) {\n            setStaff(res.data);\n          }\n        }).catch(error => {\n          console.log(error.response.data.message);\n        });\n      }\n\n      api.get(`/stages`, {\n        headers: {\n          token: apiToken\n        }\n      }).then(res => {\n        if (!isEqual(res.data, stages)) {\n          setStages(res.data);\n        }\n      }).catch(error => {\n        console.log(error.response.data.message);\n      });\n    }\n  }, [role, contacts, staff, stages, refresh]);\n  let navbar;\n\n  if (role !== \"\") {\n    navbar = /*#__PURE__*/_jsxDEV(Navbar, {\n      role: role\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 14\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(Router, {\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        userType: userType,\n        setRole: setRole,\n        setUserType: setUserType\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this), navbar, /*#__PURE__*/_jsxDEV(Switch, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: \"/\",\n          exact: true,\n          render: () => {\n            return role !== \"\" || role !== null ? /*#__PURE__*/_jsxDEV(Redirect, {\n              to: \"/Dashboard\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(Redirect, {\n              to: \"/login\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 17\n            }, this);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/Login\",\n          render: () => /*#__PURE__*/_jsxDEV(Login, {\n            api: api,\n            setRole: setRole\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 27\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n          path: \"/Dashboard\",\n          component: () => /*#__PURE__*/_jsxDEV(Dashboard, {\n            stages: stages,\n            setStages: setStages,\n            contacts: contacts,\n            setContacts: setContacts,\n            role: role,\n            staff: staff,\n            setStaff: setStaff\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n          path: \"/NewLead\",\n          component: () => /*#__PURE__*/_jsxDEV(NewLead, {\n            setContacts: setContacts,\n            stages: stages,\n            api: api\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n          path: \"/RegisterUser\",\n          component: RegisterUser\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n          path: \"/EditContact/:id\",\n          component: () => /*#__PURE__*/_jsxDEV(EditContact, {\n            contacts: contacts,\n            stages: stages,\n            setContacts: setContacts,\n            api: api,\n            refresh: refresh,\n            setRefresh: setRefresh\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 98,\n    columnNumber: 5\n  }, this);\n};\n\n_s(App, \"1gONd1EDq2IUj/5sbxOABY2i3hg=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["C:/Users/milos/Desktop/Faks/test/test/src/App.js"],"names":["React","useState","useEffect","useMemo","Component","axios","Header","BrowserRouter","Router","Redirect","Route","Switch","Navbar","Login","Dashboard","NewLead","SearchLeads","Home","Contact","PrivateRoute","RegisterUser","ManageUsers","isEqual","EditContact","api","create","baseURL","App","stages","setStages","contacts","setContacts","staff","setStaff","role","setRole","userType","setUserType","refresh","setRefresh","storedRole","window","localStorage","getItem","apiToken","staffId","get","headers","token","then","res","data","catch","error","console","log","response","message","navbar"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useMemo, Component } from \"react\";\nimport axios from \"axios\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport Header from \"./Components/Header\";\nimport {\n  BrowserRouter as Router,\n  Redirect,\n  Route,\n  Switch,\n} from \"react-router-dom\";\nimport Navbar from \"./Components/Navbar\";\nimport Login from \"./Components/Pages/Login\";\nimport Dashboard from \"./Components/Pages/Dashboard\";\nimport NewLead from \"./Components/Pages/NewLead\";\nimport SearchLeads from \"./Components/Pages/SearchLeads\";\nimport Home from \"./Components/Pages/Home\";\nimport Contact from \"./Components/Pages/Contact\";\nimport PrivateRoute from \"./Components/PrivateRoute\";\nimport RegisterUser from \"./Components/Pages/RegisterUser\";\nimport ManageUsers from \"./Components/Pages/ManageUsers\";\nimport isEqual from \"lodash.isequal\";\nimport EditContact from \"./Components/Pages/EditContact\";\n\nconst api = axios.create({\n  baseURL: \"http://127.0.0.1:8000/api\",\n});\n\nconst App = () => {\n  const [stages, setStages] = useState([]);\n\n  const [contacts, setContacts] = useState([]);\n\n  const [staff, setStaff] = useState([]);\n\n  const [role, setRole] = useState(\"\");\n  const [userType, setUserType] = useState(\"\");\n  const [refresh, setRefresh] = useState(false);\n  // const [isLoggedIn, setIsLoggedIn] = useState(false);\n\n  useEffect(() => {\n    const storedRole = window.localStorage.getItem(\"role\");\n    if (role !== storedRole && storedRole) setRole(storedRole);\n    if (role === \"manager\") {\n      setUserType(\"Manager view\");\n    } else if (role === \"sales\") {\n      setUserType(\"Employee view\");\n    } else {\n      setUserType(\"\");\n    }\n\n    if (role !== \"\") {\n      setRefresh(false);\n      const apiToken = window.localStorage.getItem(\"api_token\");\n      const staffId = window.localStorage.getItem(\"staff_id\");\n\n      api\n        .get(`/contacts/detailed`, { headers: { token: apiToken } })\n        .then((res) => {\n          if (!isEqual(res.data, contacts)) {\n            setContacts(res.data);\n          }\n        })\n        .catch((error) => {\n          console.log(error.response.data.message);\n        });\n\n      if (role === \"manager\") {\n        api\n          .get(`/staff`, { headers: { token: apiToken } })\n          .then((res) => {\n            if (!isEqual(res.data, staff)) {\n              setStaff(res.data);\n            }\n          })\n          .catch((error) => {\n            console.log(error.response.data.message);\n          });\n      }\n      api\n        .get(`/stages`, { headers: { token: apiToken } })\n        .then((res) => {\n          if (!isEqual(res.data, stages)) {\n            setStages(res.data);\n          }\n        })\n        .catch((error) => {\n          console.log(error.response.data.message);\n        });\n    }\n  }, [role, contacts, staff, stages, refresh]);\n\n  let navbar;\n  if (role !== \"\") {\n    navbar = <Navbar role={role} />;\n  }\n\n  return (\n    <div className=\"App\">\n      <Router>\n        <Header\n          userType={userType}\n          setRole={setRole}\n          setUserType={setUserType}\n        />\n        {navbar}\n        <Switch>\n          <Route\n            path=\"/\"\n            exact={true}\n            render={() => {\n              return role !== \"\" || role !== null ? (\n                <Redirect to=\"/Dashboard\" />\n              ) : (\n                <Redirect to=\"/login\" />\n              );\n            }}\n          />\n          <Route\n            path=\"/Login\"\n            render={() => <Login api={api} setRole={setRole} />}\n          />\n          <PrivateRoute\n            path=\"/Dashboard\"\n            component={() => (\n              <Dashboard\n                stages={stages}\n                setStages={setStages}\n                contacts={contacts}\n                setContacts={setContacts}\n                role={role}\n                staff={staff}\n                setStaff={setStaff}\n              />\n            )}\n          />\n          <PrivateRoute\n            path=\"/NewLead\"\n            component={() => (\n              <NewLead setContacts={setContacts} stages={stages} api={api} />\n            )}\n          />\n          <PrivateRoute path=\"/RegisterUser\" component={RegisterUser} />\n          <PrivateRoute\n            path=\"/EditContact/:id\"\n            component={() => (\n              <EditContact\n                contacts={contacts}\n                stages={stages}\n                setContacts={setContacts}\n                api={api}\n                refresh={refresh}\n                setRefresh={setRefresh}\n              />\n            )}\n          />\n        </Switch>\n      </Router>\n    </div>\n  );\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\milos\\\\Desktop\\\\Faks\\\\test\\\\test\\\\src\\\\Components\\\\Pages\\\\Companies.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport isEqual from \"lodash.isequal\";\nimport ManagerTable from \"../ManagerTable\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst companyColumns = [{\n  Header: \"Name\",\n  accessor: \"company\"\n}, {\n  Header: \"Address\",\n  accessor: \"address\"\n}, {\n  Header: \"Address2\",\n  accessor: \"address2\"\n}, {\n  Header: \"Website\",\n  accessor: \"website_url\"\n} //   {\n//     Header: \"City\",\n//     accessor: \"company_city\",\n//   },\n//   {\n//     Header: \"\",\n//     accessor: \"id\",\n//     Cell: ({ value }) => <Link to={`/EditCompany/${value}`}>Manage</Link>,\n//     disableSortBy: true,\n//  },\n];\n\nconst Companies = ({\n  companies,\n  setCompanies,\n  staff,\n  api\n}) => {\n  _s();\n\n  const [companiesDetailed, setCompaniesDetailed] = useState();\n  const [table, setTable] = useState();\n  useEffect(() => {\n    const apiToken = window.localStorage.getItem(\"api_token\");\n    api.get(`/companies/detailed`, {\n      headers: {\n        token: apiToken\n      }\n    }).then(res => {\n      console.log(res.data);\n\n      if (!isEqual(res.data, companiesDetailed)) {\n        setCompaniesDetailed(res.data).then(setTable( /*#__PURE__*/_jsxDEV(ManagerTable, {\n          columns: companyColumns,\n          data: companiesDetailed\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 15\n        }, this)));\n      }\n    }).catch(error => {\n      console.log(error.response.data.message);\n    });\n  }, [api, companiesDetailed]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: console.log(table)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 10\n  }, this);\n};\n\n_s(Companies, \"15l8C2LfH0yfJnvWp6XcLViwz+A=\");\n\n_c = Companies;\nexport default Companies;\n\nvar _c;\n\n$RefreshReg$(_c, \"Companies\");","map":{"version":3,"sources":["C:/Users/milos/Desktop/Faks/test/test/src/Components/Pages/Companies.js"],"names":["React","useState","useEffect","Link","isEqual","ManagerTable","companyColumns","Header","accessor","Companies","companies","setCompanies","staff","api","companiesDetailed","setCompaniesDetailed","table","setTable","apiToken","window","localStorage","getItem","get","headers","token","then","res","console","log","data","catch","error","response","message"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,OAAP,MAAoB,gBAApB;AAEA,OAAOC,YAAP,MAAyB,iBAAzB;;AAEA,MAAMC,cAAc,GAAG,CACrB;AACEC,EAAAA,MAAM,EAAE,MADV;AAEEC,EAAAA,QAAQ,EAAE;AAFZ,CADqB,EAKrB;AACED,EAAAA,MAAM,EAAE,SADV;AAEEC,EAAAA,QAAQ,EAAE;AAFZ,CALqB,EASrB;AACED,EAAAA,MAAM,EAAE,UADV;AAEEC,EAAAA,QAAQ,EAAE;AAFZ,CATqB,EAarB;AACED,EAAAA,MAAM,EAAE,SADV;AAEEC,EAAAA,QAAQ,EAAE;AAFZ,CAbqB,CAiBrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA1BqB,CAAvB;;AA6BA,MAAMC,SAAS,GAAG,CAAC;AAAEC,EAAAA,SAAF;AAAaC,EAAAA,YAAb;AAA2BC,EAAAA,KAA3B;AAAkCC,EAAAA;AAAlC,CAAD,KAA6C;AAAA;;AAC7D,QAAM,CAACC,iBAAD,EAAoBC,oBAApB,IAA4Cd,QAAQ,EAA1D;AACA,QAAM,CAACe,KAAD,EAAQC,QAAR,IAAoBhB,QAAQ,EAAlC;AACAC,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMgB,QAAQ,GAAGC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,WAA5B,CAAjB;AAEAR,IAAAA,GAAG,CACAS,GADH,CACQ,qBADR,EAC8B;AAAEC,MAAAA,OAAO,EAAE;AAAEC,QAAAA,KAAK,EAAEN;AAAT;AAAX,KAD9B,EAEGO,IAFH,CAESC,GAAD,IAAS;AACbC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB;;AACA,UAAI,CAACzB,OAAO,CAACsB,GAAG,CAACG,IAAL,EAAWf,iBAAX,CAAZ,EAA2C;AACzCC,QAAAA,oBAAoB,CAACW,GAAG,CAACG,IAAL,CAApB,CAA+BJ,IAA/B,CACER,QAAQ,eACN,QAAC,YAAD;AACE,UAAA,OAAO,EAAEX,cADX;AAEE,UAAA,IAAI,EAAEQ;AAFR;AAAA;AAAA;AAAA;AAAA,gBADM,CADV;AAQD;AACF,KAdH,EAeGgB,KAfH,CAeUC,KAAD,IAAW;AAChBJ,MAAAA,OAAO,CAACC,GAAR,CAAYG,KAAK,CAACC,QAAN,CAAeH,IAAf,CAAoBI,OAAhC;AACD,KAjBH;AAkBD,GArBQ,EAqBN,CAACpB,GAAD,EAAMC,iBAAN,CArBM,CAAT;AAsBA,sBAAO;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA,cAA4Ba,OAAO,CAACC,GAAR,CAAYZ,KAAZ;AAA5B;AAAA;AAAA;AAAA;AAAA,UAAP;AACD,CA1BD;;GAAMP,S;;KAAAA,S;AA4BN,eAAeA,SAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport isEqual from \"lodash.isequal\";\r\n\r\nimport ManagerTable from \"../ManagerTable\";\r\n\r\nconst companyColumns = [\r\n  {\r\n    Header: \"Name\",\r\n    accessor: \"company\",\r\n  },\r\n  {\r\n    Header: \"Address\",\r\n    accessor: \"address\",\r\n  },\r\n  {\r\n    Header: \"Address2\",\r\n    accessor: \"address2\",\r\n  },\r\n  {\r\n    Header: \"Website\",\r\n    accessor: \"website_url\",\r\n  },\r\n  //   {\r\n  //     Header: \"City\",\r\n  //     accessor: \"company_city\",\r\n  //   },\r\n  //   {\r\n  //     Header: \"\",\r\n  //     accessor: \"id\",\r\n  //     Cell: ({ value }) => <Link to={`/EditCompany/${value}`}>Manage</Link>,\r\n  //     disableSortBy: true,\r\n  //  },\r\n];\r\n\r\nconst Companies = ({ companies, setCompanies, staff, api }) => {\r\n  const [companiesDetailed, setCompaniesDetailed] = useState();\r\n  const [table, setTable] = useState();\r\n  useEffect(() => {\r\n    const apiToken = window.localStorage.getItem(\"api_token\");\r\n\r\n    api\r\n      .get(`/companies/detailed`, { headers: { token: apiToken } })\r\n      .then((res) => {\r\n        console.log(res.data);\r\n        if (!isEqual(res.data, companiesDetailed)) {\r\n          setCompaniesDetailed(res.data).then(\r\n            setTable(\r\n              <ManagerTable\r\n                columns={companyColumns}\r\n                data={companiesDetailed}\r\n              ></ManagerTable>\r\n            )\r\n          );\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(error.response.data.message);\r\n      });\r\n  }, [api, companiesDetailed]);\r\n  return <div className=\"container\">{console.log(table)}</div>;\r\n};\r\n\r\nexport default Companies;\r\n"]},"metadata":{},"sourceType":"module"}
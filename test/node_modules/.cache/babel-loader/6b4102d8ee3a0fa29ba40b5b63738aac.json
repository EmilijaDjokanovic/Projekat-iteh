{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\milos\\\\Desktop\\\\Faks\\\\test\\\\test\\\\src\\\\Components\\\\Pages\\\\Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { useHistory } from 'react-router';\nimport { Form, Button } from 'react-bootstrap';\nimport '../../styles/Login.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Login({\n  api,\n  setRole\n}) {\n  _s();\n\n  const history = useHistory();\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  const onSubmit = e => {\n    e.preventDefault();\n    api.post(`/staff/login`, {\n      email,\n      password\n    }).then(res => {\n      console.log(res);\n      console.log(res.data.token);\n      window.localStorage.setItem('api_token', res.data.api_token);\n      window.localStorage.setItem('role', res.data.role);\n      setRole(res.data.role);\n      history.push('/dashboard');\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"cointainer\",\n    children: [\"login\", /*#__PURE__*/_jsxDEV(Form, {\n      children: [/*#__PURE__*/_jsxDEV(Form.Control, {\n        type: \"email\",\n        name: \"email\",\n        value: email,\n        onChange: e => {\n          setEmail(e.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n        type: \"password\",\n        name: \"password\",\n        value: password,\n        onChange: e => {\n          setPassword(e.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        onClick: onSubmit,\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Login, \"8BHiItuLC1AQqhTCtdjbT/NhK+g=\", false, function () {\n  return [useHistory];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["C:/Users/milos/Desktop/Faks/test/test/src/Components/Pages/Login.js"],"names":["React","useState","useHistory","Form","Button","Login","api","setRole","history","email","setEmail","password","setPassword","onSubmit","e","preventDefault","post","then","res","console","log","data","token","window","localStorage","setItem","api_token","role","push","target","value"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,QAAf,QAA8B,OAA9B;AACA,SAASC,UAAT,QAA2B,cAA3B;AACA,SAAQC,IAAR,EAAcC,MAAd,QAA2B,iBAA3B;AACA,OAAO,wBAAP;;;AAEA,SAASC,KAAT,CAAe;AAACC,EAAAA,GAAD;AAAMC,EAAAA;AAAN,CAAf,EAA+B;AAAA;;AAC3B,QAAMC,OAAO,GAAGN,UAAU,EAA1B;AAEA,QAAM,CAACO,KAAD,EAAQC,QAAR,IAAoBT,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACU,QAAD,EAAWC,WAAX,IAA0BX,QAAQ,CAAC,EAAD,CAAxC;;AAGA,QAAMY,QAAQ,GAAIC,CAAD,IAAO;AACpBA,IAAAA,CAAC,CAACC,cAAF;AACAT,IAAAA,GAAG,CAACU,IAAJ,CAAU,cAAV,EAAyB;AAACP,MAAAA,KAAD;AAAQE,MAAAA;AAAR,KAAzB,EACCM,IADD,CACMC,GAAG,IAAI;AACXC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAJ,CAASC,KAArB;AACAC,MAAAA,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,WAA5B,EAAyCP,GAAG,CAACG,IAAJ,CAASK,SAAlD;AACAH,MAAAA,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,MAA5B,EAAoCP,GAAG,CAACG,IAAJ,CAASM,IAA7C;AACApB,MAAAA,OAAO,CAACW,GAAG,CAACG,IAAJ,CAASM,IAAV,CAAP;AACAnB,MAAAA,OAAO,CAACoB,IAAR,CAAa,YAAb;AACD,KARD;AASH,GAXD;;AAaA,sBACI;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA,qCAEI,QAAC,IAAD;AAAA,8BACI,QAAC,IAAD,CAAM,OAAN;AAAc,QAAA,IAAI,EAAC,OAAnB;AAA2B,QAAA,IAAI,EAAC,OAAhC;AAAwC,QAAA,KAAK,EAAEnB,KAA/C;AAAsD,QAAA,QAAQ,EAAGK,CAAD,IAAO;AACvBJ,UAAAA,QAAQ,CAACI,CAAC,CAACe,MAAF,CAASC,KAAV,CAAR;AACC;AAFjD;AAAA;AAAA;AAAA;AAAA,cADJ,eAII,QAAC,IAAD,CAAM,OAAN;AAAc,QAAA,IAAI,EAAC,UAAnB;AAA8B,QAAA,IAAI,EAAC,UAAnC;AAA8C,QAAA,KAAK,EAAEnB,QAArD;AAA+D,QAAA,QAAQ,EAAGG,CAAD,IAAO;AAC5CF,UAAAA,WAAW,CAACE,CAAC,CAACe,MAAF,CAASC,KAAV,CAAX;AACa;AAFjD;AAAA;AAAA;AAAA;AAAA,cAJJ,eAOI,QAAC,MAAD;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAsB,QAAA,OAAO,EAAEjB,QAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAPJ;AAAA;AAAA;AAAA;AAAA;AAAA,YAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAcH;;GAlCQR,K;UACWH,U;;;KADXG,K;AAoCT,eAAeA,KAAf","sourcesContent":["import React, {useState} from 'react'\r\nimport { useHistory } from 'react-router'\r\nimport {Form, Button} from 'react-bootstrap'\r\nimport '../../styles/Login.css'\r\n\r\nfunction Login({api, setRole}) {\r\n    const history = useHistory();\r\n\r\n    const [email, setEmail] = useState('')\r\n    const [password, setPassword] = useState('')\r\n\r\n\r\n    const onSubmit = (e) => {\r\n        e.preventDefault()\r\n        api.post(`/staff/login`, {email, password})\r\n        .then(res => {\r\n          console.log(res);\r\n          console.log(res.data.token);\r\n          window.localStorage.setItem('api_token', res.data.api_token)\r\n          window.localStorage.setItem('role', res.data.role)\r\n          setRole(res.data.role)\r\n          history.push('/dashboard')\r\n        })\r\n    }\r\n    \r\n    return (\r\n        <div className='cointainer'>\r\n            login\r\n            <Form>\r\n                <Form.Control type=\"email\" name=\"email\" value={email} onChange={(e) => {\r\n                                                                setEmail(e.target.value)\r\n                                                                }}/>\r\n                <Form.Control type=\"password\" name=\"password\" value={password} onChange={(e) => {\r\n                                                    setPassword(e.target.value)\r\n                                                                }}/>\r\n                <Button type=\"submit\" onClick={onSubmit}>Login</Button>\r\n            </Form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login\r\n"]},"metadata":{},"sourceType":"module"}